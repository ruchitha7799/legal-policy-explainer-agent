<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ğŸ”’ Security Center</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <header>
    <h1>ğŸ”’ Security & Privacy Center</h1>
    <nav>
      <button onclick="window.location.href='/'">ğŸ  Home</button>
      <button onclick="window.location.href='/qa'">ğŸ’¬ Q&A</button>
      <button onclick="window.location.href='/history'">ğŸ“œ History</button>
    </nav>
  </header>

  <main>
    <section class="security-section">
      <h2>ğŸ§  Your Data Safety</h2>
      <p>We take privacy very seriously. Hereâ€™s how we protect your information:</p>
      <ul>
        <li>ğŸ§¾ Documents are processed <strong>locally and securely</strong> â€” never stored permanently.</li>
        <li>ğŸ§¹ Files are <strong>automatically deleted</strong> after summarization.</li>
        <li>ğŸ›¡ï¸ All communication between your browser and server is <strong>encrypted</strong>.</li>
        <li>ğŸ” API keys are stored on the server, never exposed to users.</li>
        <li>ğŸ‘ï¸â€ğŸ—¨ï¸ No data is shared with third parties.</li>
      </ul>
    </section>

    <section class="security-section">
      <h2>ğŸ§¹ Clear My Data</h2>
      <p>You can delete all temporary uploads, summaries, and session data at any time.</p>
      <button id="clear-data-btn">ğŸ§¼ Clear All Data</button>
      <p id="clear-status" style="margin-top: 10px; color: green;"></p>
    </section>

    <section class="security-section">
      <h2>ğŸ”‘ API Transparency</h2>
      <p>We use Google Gemini AI for summarization, translation, and question answering.</p>
      <ul>
        <li>âœ… All requests are made securely through HTTPS.</li>
        <li>âœ… Only minimal, relevant text is sent for processing.</li>
        <li>âœ… You can disable API access anytime via â€œClear My Dataâ€.</li>
      </ul>
    </section>

    <section class="security-section">
      <h2>ğŸ“˜ Best Practices</h2>
      <p>For your safety, please avoid uploading documents that contain sensitive personal or financial details.</p>
      <p>For confidential legal matters, consult a certified lawyer.</p>
    </section>
  </main>

  <footer>
    <p>Â© 2025 Legal Policy Explainer | Data handled securely with â¤ï¸</p>
  </footer>

  <script>
    document.getElementById('clear-data-btn').addEventListener('click', async () => {
      if (!confirm("Are you sure you want to permanently delete all data?")) return;
      document.getElementById('clear-status').textContent = "Clearing data... â³";

      const res = await fetch('/clear-data', { method: 'POST' });
      const data = await res.json();
      if (res.ok) {
        document.getElementById('clear-status').textContent = data.message;
      } else {
        document.getElementById('clear-status').textContent = "âŒ " + (data.error || "Error clearing data");
      }
    });
  </script>
</body>
</html>
